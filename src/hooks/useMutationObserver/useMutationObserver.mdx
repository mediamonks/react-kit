import { Meta } from '@storybook/blocks';

<Meta title="Hooks / useMutationObserver" />

# useMutationObserver

This hook allows you to add a `MutationObserver` to an element and remove it when the component
unmounts.

## Reference

```ts
function useMutationObserver(
  target: Unreffable<Element | null>,
  callback: MutationCallback,
  options: MutationObserverInit,
): void;
```

## Usage

```tsx
function MyComponent(): ReactElement {
  const ref = useRef<HTMLUListElement>(null);

  useMutationObserver(
    ref,
    (mutations: Array<MutationRecord>, observer: MutationObserver) => {
      console.log('Children of decendants of ref are changed!', mutations, observer);
    },
    {
      childList: true,
      subtree: true,
    },
  );

  return <div ref={ref}>...</div>;
```
