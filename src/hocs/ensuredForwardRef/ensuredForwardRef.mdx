import { Meta } from '@storybook/blocks';

<Meta title="Higher-Order components / ensuredForwardRef" />

# ensuredForwardRef

Helper function to create ForwardRef component in which component function _always_ receive a
RefObject. New component function has the same function fignature as ForwardRef.

## Reference

```ts
export function ensuredForwardRef<T, P = Record<string | number | symbol, unknown>>(
  Component: EnsuredForwardRefRenderFunction<T, P>,
): ForwardRefExoticComponent<PropsWithoutRef<P> & RefAttributes<T>>;
```

### Returns

`ForwardRefExoticComponent<PropsWithoutRef<P> & RefAttributes<T>>`

## Usage

```tsx
const DemoComponent = ensuredForwardRef<HTMLDivElement>((_, ref) => {
  console.log(ref); // MutableRefObject<HTMLDivElement | null>

  return <div ref={ref} />;
});

...

const myRef = useRef<HTMLDivElement>();
const [myRef, setMyRef] = useState<HTMLDivElement | null>(null);

<DemoComponent />
<DemoComponent ref={myRef} />
<DemoComponent ref={setMyRef} />
```
